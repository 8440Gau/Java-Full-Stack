https://dzone.com/articles/testing-spring-boot-conditionals-the-sane-way